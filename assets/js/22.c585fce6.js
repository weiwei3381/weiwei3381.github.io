(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{385:function(t,e,s){"use strict";s.r(e);var n=s(19),a=Object(n.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"electronå®æˆ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#electronå®æˆ˜"}},[t._v("#")]),t._v(" electronå®æˆ˜")]),t._v(" "),s("h2",{attrs:{id:"electronç¼–è¯‘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#electronç¼–è¯‘"}},[t._v("#")]),t._v(" electronç¼–è¯‘")]),t._v(" "),s("blockquote",[s("p",[t._v("å‚è€ƒèµ„æ–™:"),s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/141450682",target:"_blank",rel:"noopener noreferrer"}},[t._v("electron é›†æˆ addon æ–¹æ¡ˆç®€ä»‹"),s("OutboundLink")],1),t._v(", "),s("a",{attrs:{href:"https://github.com/electron/electron-rebuild",target:"_blank",rel:"noopener noreferrer"}},[t._v("github:electron-rebuild"),s("OutboundLink")],1),t._v(", "),s("a",{attrs:{href:"https://github.com/nodejs/node-gyp#on-windows",target:"_blank",rel:"noopener noreferrer"}},[t._v("github:node-gyp"),s("OutboundLink")],1),t._v(", "),s("a",{attrs:{href:"https://blog.csdn.net/qq_33583069/article/details/107379816",target:"_blank",rel:"noopener noreferrer"}},[t._v("electronå’Œnodeç‰ˆæœ¬ä¸åŒ¹é…çš„è§£å†³ç»†èŠ‚"),s("OutboundLink")],1),t._v(", "),s("a",{attrs:{href:"https://www.cnblogs.com/mdorg/p/10417945.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Electronæ‰“åŒ…Nodeç¨‹åºï¼šNODE_MODULE_VERSIONå€¼ä¸ä¸€è‡´å¼•å‘çš„é—®é¢˜"),s("OutboundLink")],1),t._v(","),s("a",{attrs:{href:"https://www.cnblogs.com/mdorg/p/10419506.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Electronæ‰“åŒ…Nodeç¨‹åºï¼šæ€ä¹ˆè·å–electronã€nodeçš„abiä»¥åŠæŒ‡å¯¼abiè·å–ç‰ˆæœ¬"),s("OutboundLink")],1),t._v(", "),s("a",{attrs:{href:"https://crifan.github.io/desktop_app_framework_electron/website/summary_note/node/electron_node_versions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Electronå’ŒNodeç‰ˆæœ¬å¯¹åº”å…³ç³»"),s("OutboundLink")],1),t._v(", "),s("a",{attrs:{href:"https://www.npmjs.com/package/electron-releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm-electron-releases"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("ç”±äºä¸åŒç‰ˆæœ¬çš„ electron å†…åµŒäº†ä¸åŒçš„ Chromium; ä¸åŒçš„ Chromium åˆå¸¦äº†ä¸åŒçš„ node ç‰ˆæœ¬. ä¹Ÿå°±æ˜¯è¯´ electron å†…ç½®çš„ node ç‰ˆæœ¬å’Œæˆ‘ä»¬å¼€å‘æœºä¸Šçš„ node å¹¶ä¸æ˜¯åŒä¸€ä¸ªç‰ˆæœ¬. å½“ä½ åœ¨ yarn ç¼–è¯‘ addon æ—¶,node-gyp æ˜¯æŒ‰ç…§æœ¬åœ° node ç‰ˆæœ¬å»ç¼–è¯‘ addon çš„. æˆ‘ä»¬æœŸæœ› node-gyp æŒ‰ç…§ electron é‡Œé¢çš„ node ç‰ˆæœ¬é‡æ–°ç¼–è¯‘. æ­¤æ—¶ä½ éœ€è¦ electron-rebuild. è¿™ä¸ªåº“çš„ä½œç”¨å°±æ˜¯è¯»å–ä½ å®‰è£…çš„ electron ç‰ˆæœ¬, ç„¶åæŒ‰ç…§å…¶å†…ç½®çš„ node ç‰ˆæœ¬è°ƒç”¨ node-gyp ç¼–è¯‘ addon.")]),t._v(" "),s("h3",{attrs:{id:"electron-rebuildçš„ä½œç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#electron-rebuildçš„ä½œç”¨"}},[t._v("#")]),t._v(" electron-rebuildçš„ä½œç”¨")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/electron/electron-rebuild",target:"_blank",rel:"noopener noreferrer"}},[t._v("Electron Rebuild"),s("OutboundLink")],1),t._v("é¡¹ç›®ä»‹ç»åŸæ–‡å¦‚ä¸‹.")]),t._v(" "),s("blockquote",[s("p",[t._v("This executable rebuilds native Node.js modules against the version of Node.js that your Electron project is using. This allows you to use native Node.js modules in Electron apps without your system version of Node.js matching exactly (which is often not the case, and sometimes not even possible).")])]),t._v(" "),s("p",[t._v("æ­¤å¯æ‰§è¡Œæ–‡ä»¶æ ¹æ®æ‚¨çš„ Electron é¡¹ç›®æ­£åœ¨ä½¿ç”¨çš„ Node.js ç‰ˆæœ¬é‡å»ºåŸç”Ÿ Node.js æ¨¡å—ã€‚è¿™å…è®¸æ‚¨åœ¨ Electron åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨åŸç”Ÿ Node.js æ¨¡å—ï¼Œè€Œæ— éœ€æ‚¨çš„ Node.js ç³»ç»Ÿç‰ˆæœ¬å®Œå…¨åŒ¹é…ï¼ˆé€šå¸¸æƒ…å†µå¹¶éå¦‚æ­¤ï¼Œæœ‰æ—¶ç”šè‡³ä¸å¯èƒ½ï¼‰ã€‚")]),t._v(" "),s("p",[t._v("ç”¨æ³•ä¹Ÿå¾ˆç®€å•, ç¡®ä¿Nodeç‰ˆæœ¬å¤§äºv12.13.0, ç„¶åä½¿ç”¨å‘½ä»¤"),s("code",[t._v("npm install --save-dev electron-rebuild")]),t._v("å®‰è£…æ¨¡å—.")]),t._v(" "),s("p",[t._v("ä»¥å, æ¯æ¬¡åœ¨electronä¸­æ–°è£…äº†ä¸€ä¸ªnpmåŒ…, åˆ™è¿è¡Œelectron-rebuild, å…¶ä¸­windowsä¸Šçš„è¿è¡Œå‘½ä»¤å¦‚ä¸‹:"),s("code",[t._v(".\\node_modules\\.bin\\electron-rebuild.cmd")]),t._v(", å®ƒå°±ä¼šæ ¹æ®electronä¸­ä½¿ç”¨Nodeç‰ˆæœ¬ç¼–è¯‘æ–‡ä»¶, èƒ½å¤Ÿæ­£ç¡®ç¼–è¯‘çš„å‰ææ˜¯å®‰è£…å¥½"),s("a",{attrs:{href:"https://github.com/nodejs/node-gyp#on-windows",target:"_blank",rel:"noopener noreferrer"}},[t._v("node-gyp"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"å®‰è£…node-gyp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…node-gyp"}},[t._v("#")]),t._v(" å®‰è£…node-gyp")]),t._v(" "),s("p",[t._v("æ ¹æ®"),s("a",{attrs:{href:"https://github.com/nodejs/node-gyp#on-windows",target:"_blank",rel:"noopener noreferrer"}},[t._v("node-gyp"),s("OutboundLink")],1),t._v("ä¸­çš„ä»‹ç».")]),t._v(" "),s("blockquote",[s("p",[t._v("node-gyp is a cross-platform command-line tool written in Node.js for compiling native addon modules for Node.js. It contains a vendored copy of the gyp-next project that was previously used by the Chromium team, extended to support the development of Node.js native addons.")])]),t._v(" "),s("p",[t._v("ç®€å•ç¿»è¯‘ä¸€ä¸‹: "),s("code",[t._v("node-gyp")]),t._v("æ˜¯ä¸€ä¸ªç”¨ Node.js ç¼–å†™çš„è·¨å¹³å°å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºä¸º Node.js ç¼–è¯‘æœ¬æœºæ’ä»¶æ¨¡å—ã€‚å®ƒåŒ…å«Chromium å›¢é˜Ÿä»¥å‰ä½¿ç”¨çš„ gyp-nexté¡¹ç›®çš„ä¾›åº”å•†å‰¯æœ¬ï¼Œç»è¿‡æ‰©å±•ä»¥æ”¯æŒ Node.js åŸç”Ÿæ’ä»¶çš„å¼€å‘ã€‚")]),t._v(" "),s("p",[t._v("å®‰è£…æµç¨‹æ¯”è¾ƒç¹ç, å¯ä»¥å‚è€ƒ"),s("a",{attrs:{href:"https://github.com/Microsoft/nodejs-guidelines/blob/master/windows-environment.md#compiling-native-addon-modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("nodejs-guidelines"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("ç¬¬ä¸€æ­¥, å…¨å±€å®‰è£…node-gyp, "),s("code",[t._v("npm install -g node-gyp")]),t._v(". æœ‰åšå®¢è¯´éœ€è¦ç¡®ä¿node.jsæ˜¯32ä½ç‰ˆæœ¬, ä½†æ˜¯äº²æµ‹å‘ç°æœ¬æœºå¦‚æœæ˜¯64ä½çš„windowsç³»ç»Ÿ, é‚£ä¹ˆå®‰è£…çš„Visual Studio 2017åœ¨ç¼–è¯‘æ—¶ä¼šè‡ªåŠ¨é€‰æ‹©64ä½è¿›è¡Œç¼–è¯‘, æ­¤æ—¶ç¼–è¯‘åçš„64ä½c++ä»£ç æ˜¯æ— æ³•åœ¨32ä½node.jsä¸­è¿è¡Œçš„, ä¼šæŠ¥"),s("code",[t._v("åº“è®¡ç®—æœºç±»å‹â€œx64â€ä¸ç›®æ ‡è®¡ç®—æœºç±»å‹â€œx86â€å†²çª")]),t._v("é”™è¯¯, æ‰€ä»¥æœ¬æœºæ˜¯64ä½windows, åˆ™"),s("strong",[t._v("ç›´æ¥è£…64ä½node.jsç‰ˆæœ¬")]),t._v("å³å¯.")]),t._v(" "),s("p",[t._v("ç¬¬äºŒæ­¥, ç¡®ä¿windowsç³»ç»Ÿä¸­å®‰è£…äº†Python2.7ç¯å¢ƒ(Python 3.x.xä¸æ”¯æŒğŸ˜¢), è®¾ç½®npmé…ç½®é¡¹"),s("code",[t._v("npm config set python C:\\Python27\\python.exe")]),t._v(", å¯ä»¥åœ¨ç³»ç»Ÿä¸­æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒå˜é‡"),s("code",[t._v("npm config list")]),t._v("ç¡®ä¿æ²¡æœ‰é—®é¢˜, ç„¶åå®‰è£…"),s("a",{attrs:{href:"https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/?sku=Community",target:"_blank",rel:"noopener noreferrer"}},[t._v("Visual Studio 2017 Community"),s("OutboundLink")],1),t._v(', é€‰æ‹©"Visual C++ build tools"å·¥ä½œå°, å¤§æ¦‚éœ€è¦ä¸‹è½½2-3Gçš„æ–‡ä»¶, å ç”¨ç©ºé—´6GBå·¦å³, å¯ä»¥å®‰è£…åˆ°Dç›˜.')]),t._v(" "),s("p",[t._v("ç¬¬ä¸‰æ­¥, ç™»å½•cmd, è¿è¡Œ"),s("code",[t._v("npm config set msvs_version 2017")]),t._v(", å…¶ä¸­"),s("code",[t._v("msvs_version")]),t._v("æ˜¯Microsoft Visual Studio Versionçš„ç®€ç§°, "),s("code",[t._v("2017")]),t._v("æ˜¯Visual Studioçš„ç‰ˆæœ¬, å¦‚æœå®‰è£…çš„æ˜¯Visual Studio 2019, åˆ™è¿™ä¸ªå‘½ä»¤åº”è¯¥æ”¹ä¸º"),s("code",[t._v("npm config set msvs_version 2019")]),t._v(".")]),t._v(" "),s("p",[t._v("ç¬¬å››æ­¥, ç”±äºç½‘ç»œç¨³å®š, å› æ­¤åœ¨ç¼–è¯‘æ—¶éœ€è¦ä¸‹è½½"),s("code",[t._v("node.lib")]),t._v("å’Œ"),s("code",[t._v("node-v14.16.0-headers.tar.gz")]),t._v("æ–‡ä»¶ä¸ä¸€å®šèƒ½æˆåŠŸ, å»ºè®®æå‰å°†è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸‹è½½å¥½åè®¾ç½®ç¦»çº¿å®‰è£…æ¨¡å¼, é¦–å…ˆä»ç½‘ä¸Šä¸‹è½½"),s("code",[t._v("https://nodejs.org/download/release/v14.16.0/node-v14.16.0-headers.tar.gz")]),t._v("å’Œ"),s("code",[t._v("https://nodejs.org/download/release/v14.16.0/win-x64/node.lib")]),t._v(", è¿™é‡Œä¸‹è½½çš„æ˜¯v14.16.0, å¦‚æœnode.jsç‰ˆæœ¬æ˜¯å…¶ä»–çš„, åˆ™ç›´æ¥æ”¹ç½‘å€urlå³å¯.")]),t._v(" "),s("p",[t._v("ä¸‹è½½å®Œæ¯•å,åœ¨Dç›˜æ ¹ç›®å½•æ–°å»ºæ–‡ä»¶å¤¹"),s("code",[t._v("nodeDir")]),t._v(", å°†"),s("code",[t._v("node-v14.16.0-headers.tar.gz")]),t._v("è§£å‹çš„"),s("code",[t._v("include")]),t._v("æ–‡ä»¶å¤¹å¤åˆ¶åˆ°"),s("code",[t._v("D:\\nodeDir\\")]),t._v("ç›®å½•ä¸­å», ç„¶ååœ¨"),s("code",[t._v("nodeDir")]),t._v("æ–‡ä»¶å¤¹ä¸­æ–°å»º"),s("code",[t._v("Release")]),t._v("æ–‡ä»¶å¤¹, å°†ä¸‹è½½çš„node.libå¤åˆ¶åˆ° "),s("code",[t._v("Release")]),t._v(" æ–‡ä»¶å¤¹ä¸­, ç›®å½•å±‚çº§å¦‚ä¸‹æ‰€ç¤º")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("nodeDir\n â”œâ”€â”€ include\n â”‚   â””â”€â”€ node\n â””â”€â”€ Release\n     â””â”€â”€ node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lib\n")])])]),s("p",[t._v("ç„¶åæ‰§è¡Œ"),s("code",[t._v("npm config set nodedir D:\\nodeDir\\")]),t._v(", è¿™æ ·node-gypåœ¨æ„å»ºæ—¶å°±ä¸ä¼šåœ¨ç½‘ä¸Šä¸‹è½½æ–‡ä»¶äº†.")]),t._v(" "),s("p",[t._v("ç¬¬äº”æ­¥, åœ¨ä½¿ç”¨electron-buildå‘½ä»¤çš„æ—¶å€™, æœ€å¥½æ˜¯åœ¨windows powershellä¸­è¿›è¡Œ, å°†å­—ç¬¦ç¼–ç æ”¹ä¸º"),s("code",[t._v("chcp 65001")]),t._v(", è¿™æ ·èƒ½æ˜¾ç¤ºä¸­æ–‡é”™è¯¯ä¿¡æ¯.")]),t._v(" "),s("p",[t._v("å¦‚æœè§‰å¾—ä¸Šé¢è¿‡ç¨‹æ¯”è¾ƒç¹çğŸ™ƒ, ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æå‡çš„ PowerShellï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰è¿è¡Œï¼Œä½¿ç”¨ Microsoft çš„windows-build-toolså®‰è£…æ‰€æœ‰å¿…éœ€çš„å·¥å…·å’Œé…ç½®npm install -g windows-build-tools, ä½†æ˜¯2022å¹´1æœˆæˆ‘è¯•è¿‡, "),s("mark",[t._v("å¹¶æ²¡æœ‰æˆåŠŸ")]),t._v(" , æ‰€ä»¥æœ€å¥½è¿˜æ˜¯æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤è¿›è¡Œè®¾ç½®.")]),t._v(" "),s("h3",{attrs:{id:"ç¡®ä¿nodeç‰ˆæœ¬ä¸electronç‰ˆæœ¬ä¸€è‡´"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¡®ä¿nodeç‰ˆæœ¬ä¸electronç‰ˆæœ¬ä¸€è‡´"}},[t._v("#")]),t._v(" ç¡®ä¿Nodeç‰ˆæœ¬ä¸Electronç‰ˆæœ¬ä¸€è‡´")]),t._v(" "),s("p",[t._v("NODE_MODULE_VERSION æŒ‡çš„æ˜¯ Node.js çš„ ABI (application binary interface) ç‰ˆæœ¬å·ï¼Œç”¨æ¥ç¡®å®šç¼–è¯‘ Node.js çš„ C++ åº“ç‰ˆæœ¬ï¼Œä»¥ç¡®å®šæ˜¯å¦å¯ä»¥ç›´æ¥åŠ è½½è€Œä¸éœ€é‡æ–°ç¼–è¯‘ã€‚åœ¨æ—©æœŸç‰ˆæœ¬ä¸­å…¶ä½œä¸ºä¸€ä½åå…­è¿›åˆ¶å€¼æ¥å‚¨å­˜ï¼Œè€Œç°åœ¨è¡¨ç¤ºä¸ºä¸€ä¸ªæ•´æ•°ã€‚")]),t._v(" "),s("p",[t._v("node.jsçš„ABIå¯ä»¥åˆ°"),s("a",{attrs:{href:"https://nodejs.org/zh-cn/download/releases/",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜ç½‘"),s("OutboundLink")],1),t._v("ä¸Šè¿›è¡ŒæŸ¥è¯¢, è€Œelectronçš„ABIå¯ä»¥åˆ°electronçš„github release"),s("a",{attrs:{href:"https://github.com/electron/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç½‘å€"),s("OutboundLink")],1),t._v("ä¸Šè¿›è¡ŒæŸ¥è¯¢, ä½†æ˜¯å¾ˆé—æ†¾, åŸºæœ¬ä¸Šelectronç¼–è¯‘çš„ç‰ˆæœ¬ä¸node.jså‘å¸ƒçš„ç‰ˆæœ¬ABIå‡ä¸åŒ, æ‰€ä»¥åœ¨electronä¸­è¿˜éœ€è¦é‡æ–°ç¼–è¯‘.")]),t._v(" "),s("h3",{attrs:{id:"æ‰“åŒ…sqlite3-nodejiebaå’Œleveldbç­‰c-åŸç”Ÿåº“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ‰“åŒ…sqlite3-nodejiebaå’Œleveldbç­‰c-åŸç”Ÿåº“"}},[t._v("#")]),t._v(" æ‰“åŒ…sqlite3, nodejiebaå’ŒlevelDBç­‰C++åŸç”Ÿåº“")]),t._v(" "),s("p",[t._v("å‰ææ¡ä»¶: å®‰è£…å®Œæˆnode-gyp")]),t._v(" "),s("p",[t._v("ç¬¬ä¸€æ­¥, åœ¨package.jsonä¸­ä¸è¦åŠ sqlite3, nodejiebaå’Œlevelçš„ä¾èµ–, ç„¶åç”¨"),s("code",[t._v("yarn")]),t._v("æˆ–è€…"),s("code",[t._v("npm install")]),t._v("å®‰è£…å…¶ä»–çš„ä¾èµ–")]),t._v(" "),s("p",[t._v("ç¬¬äºŒæ­¥, æ ¹æ®electronçš„ç‰ˆæœ¬ä¸åŒ,ä¾‹å¦‚electronç‰ˆæœ¬ä¸º"),s("code",[t._v("13.6.6")]),t._v("æ—¶, ä½¿ç”¨å‘½ä»¤: "),s("code",[t._v("yarn add nodejieba sqlite3 level --build-from-source --runtime=electron --target=13.6.6 --dist-url=https://atom.io/download/electron")]),t._v(" å®‰è£…å¯¹åº”electronç‰ˆæœ¬çš„è½¯ä»¶åŒ…"),s("code",[t._v("nodejieba sqlite3 level")]),t._v(".")]),t._v(" "),s("p",[t._v("ç¬¬ä¸‰æ­¥, "),s("em",[t._v("å¯é€‰é¡¹")]),t._v(", ä½¿ç”¨"),s("code",[t._v("yarn add electron-rebuild aws-sdk")]),t._v("å®‰è£…aws-sdkå’Œelectron-rebuild, ç„¶ååˆ©ç”¨"),s("code",[t._v("electron-rebuild -f -w sqlite3")]),t._v("æ¥éªŒè¯"),s("code",[t._v("sqlite3")]),t._v("æœ‰æ²¡æœ‰å®‰è£…æˆåŠŸ, å…¶ä»–çš„ç±»ä¼¼.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("åœ¨ä½¿ç”¨"),s("code",[t._v("electron-builder")]),t._v("æ‰“åŒ…æ—¶, nodejiebaæ¨¡å—ä¸€ç›´å‡ºç°èƒ½è°ƒè¯•, ä½†æ˜¯ä¸€æ—¦æ‰“åŒ…æˆexeç¨‹åº, å°±æ— æ³•è¿è¡Œçš„æƒ…å†µ, æœ€åæ¢ç´¢äº†å‡ å¤©æ‰¾åˆ°äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ, å°±æ˜¯åœ¨"),s("code",[t._v("package.json")]),t._v("çš„"),s("code",[t._v("build")]),t._v("ä¸­, è®¾ç½®"),s("code",[t._v('"asar": false, "asarUnpack": "**\\\\*.{node,dll}",')]),t._v(", å³"),s("strong",[t._v("ä¸ä½¿ç”¨asaræ‰“åŒ…")]),t._v(", è¿™æ ·æ‰“åŒ…å‡ºæ¥çš„exeç¨‹åºåœ¨å®‰è£…åä¼šå¸¦åŸæœ‰çš„"),s("code",[t._v("node_modules")]),t._v("æ–‡ä»¶, "),s("code",[t._v("nodejieba")]),t._v("æ¨¡å—å°±èƒ½æ­£å¸¸è¿è¡Œäº†, å¼Šç«¯åœ¨äºæ‰“åŒ…å’Œå®‰è£…çš„é€Ÿåº¦ä¼šå˜æ…¢, ä¸è¿‡å¥½è¿‡æ²¡æ³•è¿è¡Œ.")])]),t._v(" "),s("p",[t._v("æ‰“åŒ…æˆåŠŸçš„package.jsonçš„ç¤ºä¾‹å¦‚ä¸‹:")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tasky"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"This is a task management app"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"main"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"index.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron ."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nodemon --watch index.js --exec electron ."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build-icon"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron-icon-builder --input=./public/icon.png --output=build --flatten"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"postinstall"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron-builder install-app-deps"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pack"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron-builder --dir"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dist"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron-builder"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"release"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cross-env GH_TOKEN=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 electron-builder"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"rebuild:sql"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron-rebuild -f -w sqlite3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"rebuild:nodejieba"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron-rebuild -f -w nodejieba"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"appId"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"this.is.tasky"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"productName"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Tasky"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"asar"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"asarUnpack"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"**\\\\*.{node,dll}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"copyright"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Copyright Â© 2021 Alaso"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"directories"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"buildResources"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"build"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"win"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"target"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nsis"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"icon"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"build/icons/icon.ico"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"nsis"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"oneClick"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"language"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2052"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"perMachine"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"allowToChangeInstallationDirectory"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"keywords"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Alaso"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"license"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ISC"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bugs"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/alasolala/tasky/issues"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"homepage"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/alasolala/tasky#readme"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dependencies"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"aws-sdk"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^2.1052.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"electron-updater"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.3.9"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"level"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^7.0.1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"nodejieba"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^2.5.2"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sqlite3"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^5.0.2"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"devDependencies"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cross-env"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^7.0.3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"electron"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^13.6.6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"electron-builder"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^22.14.5"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"electron-icon-builder"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^2.0.1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"electron-rebuild"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.2.5"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"nodemon"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^2.0.7"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("åœ¨å°è¯•è¿‡ç¨‹ä¸­ç¿»äº†ä¸å°‘è½¦, å…¶ä¸­ç»å¸¸å‡ºç°"),s("code",[t._v("a different Node.js version using NODE_MODULE_VERSION 83. This version of Node.js requires NODE_MODULE_VERSION 89. Please try re-compiling or re-installing")]),t._v("é”™è¯¯, ç„¶åæŒ‰ç…§"),s("a",{attrs:{href:"https://www.electronjs.org/docs/tutorial/using-native-node-modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜ç½‘"),s("OutboundLink")],1),t._v("è§£å†³, ä¹Ÿæ²¡è§£å†³å¥½. æŒ‰ç…§"),s("code",[t._v("npm rebuild --runtime=electron --target=13.6.6 --disturl=https://atom.io/download/atom-shell --abi=89")]),t._v("é‡æ–°ç¼–è¯‘æŒ‡å®šabi, ä½†æ˜¯æ‰“åŒ…ä¹‹åè¿˜æ˜¯å‡ºç°é”™è¯¯, æ€»æ„Ÿè§‰æ‰“åŒ…ä½¿ç”¨çš„æ˜¯ç¼“å­˜, è®©äººç™¾æ€ä¸å¾—å…¶è§£.")]),t._v(" "),s("h2",{attrs:{id:"å®‰è£…typescriptæ”¯æŒçš„react"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…typescriptæ”¯æŒçš„react"}},[t._v("#")]),t._v(" å®‰è£…typescriptæ”¯æŒçš„react")]),t._v(" "),s("h3",{attrs:{id:"å®‰è£…æ¨¡æ¿å‡ºé”™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…æ¨¡æ¿å‡ºé”™"}},[t._v("#")]),t._v(" å®‰è£…æ¨¡æ¿å‡ºé”™")]),t._v(" "),s("p",[t._v("ä½¿ç”¨"),s("code",[t._v("npx create-react-app my-app --template typescript")]),t._v("æç¤º**You are running `create-react-app` 4.0.3, which is behind the latest release (5.0.0)**é”™è¯¯ï¼Œä½†æ˜¯è¿è¡Œå…¨å±€å¸è½½"),s("code",[t._v("npm uninstall -g create-react-app")]),t._v("å‘½ä»¤æ‰¾ä¸åˆ°å¸è½½çš„æ¨¡å—ã€‚")]),t._v(" "),s("p",[t._v("è§£å†³æ–¹æ¡ˆï¼šå¯ä»¥åœ¨è¿è¡Œå‘½ä»¤æ—¶éœ€è¦å¢åŠ "),s("code",[t._v("create-react-app")]),t._v("çš„ç‰ˆæœ¬å·ï¼Œå³"),s("code",[t._v("npx create-react-app@5.0.0 my-app --template typescript")]),t._v("åˆ›å»ºæˆåŠŸã€‚")])])}),[],!1,null,null,null);e.default=a.exports}}]);